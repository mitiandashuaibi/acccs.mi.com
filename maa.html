<!-- <!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Print</title></head>
<body>
<script>
const t = new URLSearchParams(location.search).get('text') || 'æµ‹è¯•æˆåŠŸ';
document.body.textContent = decodeURIComponent(t);
</script>
</body>
</html> -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ç³»ç»Ÿä¿¡æ¯</title>
  <style>
    body{font-family:system-ui,sans-serif;padding:20px;max-width:800px;margin:0 auto;background:#f8f9fa}
    #status{padding:12px;background:#e3f2fd;border-radius:6px;margin:15px 0;font-weight:500}
    #status.err{background:#ffebee;color:#c62828}
    #status.ok{background:#e8f5e9;color:#2e7d32}
    table{width:100%;border-collapse:collapse;background:white;border-radius:8px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,0.08)}
    th,td{padding:12px 15px;text-align:left;border-bottom:1px solid #eee}
    th{background:#f8fafc;width:40%;font-weight:600}
    .root{background:#fff8e6}
    .root td:last-child{color:#d32f2f;font-weight:bold}
    .warn{color:#d32f2f;font-weight:500;margin-top:8px}
  </style>
</head>
<body>
  <h1>ğŸ“± è®¾å¤‡ç³»ç»Ÿä¿¡æ¯</h1>
  <div id="status">â³ æ­£åœ¨è·å–ç³»ç»Ÿä¿¡æ¯...</div>
  <div id="result"></div>

  <script>
    window.onload = function() {
      const status = document.getElementById('status');
      const result = document.getElementById('result');
      
      if (!window.PASSPORT_JSB_METHOD_INVOKER) {
        status.className = 'err';
        status.innerHTML = 'âŒ è¯·åœ¨å°ç±³è´¦å· WebView ç¯å¢ƒä¸­æ‰“å¼€ï¼ˆå¦‚å°ç±³å•†åŸ/ç¤¾åŒº Appï¼‰';
        return;
      }
      
      window.PASSPORT_JSB_METHOD_INVOKER.invokeMethod(
        "getSystemInfo",
        {},
        function(error, data) {
          if (error || !data) {
            status.className = 'err';
            status.innerHTML = `âŒ è·å–å¤±è´¥: ${error?.message || 'æœªçŸ¥é”™è¯¯'}`;
            return;
          }
          
          // æ¸²æŸ“è¡¨æ ¼
          let html = `<table><tr><th>å­—æ®µ</th><th>å€¼</th></tr>`;
          for (let key in data) {
            const isRootRow = (key === 'isRooted' && data[key]);
            const rowClass = isRootRow ? ' class="root"' : '';
            const val = data[key] == null ? 'â€”' : 
                      (typeof data[key] === 'boolean' ? (data[key] ? 'âœ… æ˜¯' : 'âŒ å¦') : String(data[key]));
            html += `<tr${rowClass}><td><b>${key}</b></td><td>${val}</td></tr>`;
          }
          html += `</table>`;
          
          result.innerHTML = html;
          status.className = 'ok';
          status.innerHTML = 'âœ… ç³»ç»Ÿä¿¡æ¯è·å–æˆåŠŸ';
          
          // Root çŠ¶æ€é¡µé¢å†…è­¦ç¤ºï¼ˆæ— å¼¹çª—ï¼‰
          if (data.isRooted) {
            const warn = document.createElement('div');
            warn.className = 'warn';
            warn.innerHTML = 'âš ï¸ å®‰å…¨æç¤ºï¼šæ£€æµ‹åˆ°è®¾å¤‡å·² Rootï¼Œå¯èƒ½å­˜åœ¨å®‰å…¨é£é™©';
            result.insertBefore(warn, result.firstChild);
          }
        }
      );
    };
  </script>
</body>
</html>
